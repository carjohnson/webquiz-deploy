{"version":3,"file":"extensions_dicom-microscopy_src_DicomMicroscopyViewport_tsx.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAQA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;;AAEA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAEA;AAQA;AACA;AACA;AAAA;AAGA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAOA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAGA;AAAA;AAtPA;AAeA;AAAA;AAyOA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjQA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAKA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAKA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAKA;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAMA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvHA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAMA;AAIA;AAGA;AACA;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACnZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC5GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["file:///D:%5CUsers%5Ccjohnson%5CGitRepositories%5COHIF-Viewer-Dev%5Cohif%5Cextensions%5Cdicom-microscopy%5Csrc%5CDicomMicroscopyViewport.tsx","file:///D:%5CUsers%5Ccjohnson%5CGitRepositories%5COHIF-Viewer-Dev%5Cohif%5Cextensions%5Cdicom-microscopy%5Csrc%5Ccomponents%5CViewportOverlay%5Cindex.tsx","file:///D:%5CUsers%5Ccjohnson%5CGitRepositories%5COHIF-Viewer-Dev%5Cohif%5Cextensions%5Cdicom-microscopy%5Csrc%5Ccomponents%5CViewportOverlay%5ClistComponentGenerator.tsx","file:///D:%5CUsers%5Ccjohnson%5CGitRepositories%5COHIF-Viewer-Dev%5Cohif%5Cextensions%5Cdicom-microscopy%5Csrc%5Ccomponents%5CViewportOverlay%5Cutils.ts","file:///D:%5CUsers%5Ccjohnson%5CGitRepositories%5COHIF-Viewer-Dev%5Cohif%5Cextensions%5Cdicom-microscopy%5Csrc%5Cutils%5CdicomWebClient.ts","file:///D:%5CUsers%5Ccjohnson%5CGitRepositories%5COHIF-Viewer-Dev%5Cohif%5Cextensions%5Cdicom-microscopy%5Csrc%5CDicomMicroscopyViewport.css","file:///D:%5CUsers%5Ccjohnson%5CGitRepositories%5COHIF-Viewer-Dev%5Cohif%5Cextensions%5Cdicom-microscopy%5Csrc%5Ccomponents%5CViewportOverlay%5CViewportOverlay.css","webpack:///../../../extensions/dicom-microscopy/src/DicomMicroscopyViewport.css?56b5","webpack:///../../../extensions/dicom-microscopy/src/components/ViewportOverlay/ViewportOverlay.css?cca1"],"sourcesContent":["import React, { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { cleanDenaturalizedDataset } from '@ohif/extension-default';\r\n\r\nimport './DicomMicroscopyViewport.css';\r\nimport ViewportOverlay from './components/ViewportOverlay';\r\nimport getDicomWebClient from './utils/dicomWebClient';\r\nimport dcmjs from 'dcmjs';\r\nimport { useSystem } from '@ohif/core';\r\n\r\nfunction DicomMicroscopyViewport({\r\n  activeViewportId,\r\n  setViewportActive,\r\n  displaySets,\r\n  viewportId,\r\n  dataSource,\r\n  resizeRef,\r\n}: {\r\n  activeViewportId: string;\r\n  setViewportActive: Function;\r\n  displaySets: any[];\r\n  viewportId: string;\r\n  dataSource: any;\r\n  resizeRef: any;\r\n}) {\r\n  const { servicesManager, extensionManager } = useSystem();\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [viewer, setViewer] = useState(null);\r\n  const [managedViewer, setManagedViewer] = useState(null);\r\n  const overlayElement = useRef();\r\n  const container = useRef();\r\n  const { microscopyService, customizationService } = servicesManager.services;\r\n\r\n  const overlayData = customizationService.getCustomization('microscopyViewport.overlay');\r\n\r\n  // install the microscopy renderer into the web page.\r\n  // you should only do this once.\r\n  const installOpenLayersRenderer = useCallback(\r\n    async (container, displaySet) => {\r\n      const loadViewer = async metadata => {\r\n        const dicomMicroscopyModule = await microscopyService.importDicomMicroscopyViewer();\r\n        const { viewer: DicomMicroscopyViewer, metadata: metadataUtils } = dicomMicroscopyModule;\r\n\r\n        const microscopyViewer = DicomMicroscopyViewer.VolumeImageViewer;\r\n\r\n        const client = getDicomWebClient({\r\n          extensionManager,\r\n          servicesManager,\r\n        });\r\n\r\n        // Parse, format, and filter metadata\r\n        const volumeImages: any[] = [];\r\n\r\n        /**\r\n         * This block of code is the original way of loading DICOM into dicom-microscopy-viewer\r\n         * as in their documentation.\r\n         * But we have the metadata already loaded by our loaders.\r\n         * As the metadata for microscopy DIOM files tends to be big and we don't\r\n         * want to double load it, below we have the mechanism to reconstruct the\r\n         * DICOM JSON structure (denaturalized) from naturalized metadata.\r\n         * (NOTE: Our loaders cache only naturalized metadata, not the denaturalized.)\r\n         */\r\n        // {\r\n        //   const retrieveOptions = {\r\n        //     studyInstanceUID: metadata[0].StudyInstanceUID,\r\n        //     seriesInstanceUID: metadata[0].SeriesInstanceUID,\r\n        //   };\r\n        //   metadata = await client.retrieveSeriesMetadata(retrieveOptions);\r\n        //   // Parse, format, and filter metadata\r\n        //   metadata.forEach(m => {\r\n        //     if (\r\n        //       volumeImages.length > 0 &&\r\n        //       m['00200052'].Value[0] != volumeImages[0].FrameOfReferenceUID\r\n        //     ) {\r\n        //       console.warn(\r\n        //         'Expected FrameOfReferenceUID of difference instances within a series to be the same, found multiple different values',\r\n        //         m['00200052'].Value[0]\r\n        //       );\r\n        //       m['00200052'].Value[0] = volumeImages[0].FrameOfReferenceUID;\r\n        //     }\r\n        //     NOTE: depending on different data source, image.ImageType sometimes\r\n        //     is a string, not a string array.\r\n        //     m['00080008'] = transformImageTypeUnnaturalized(m['00080008']);\r\n\r\n        //     const image = new metadataUtils.VLWholeSlideMicroscopyImage({\r\n        //       metadata: m,\r\n        //     });\r\n        //     const imageFlavor = image.ImageType[2];\r\n        //     if (imageFlavor === 'VOLUME' || imageFlavor === 'THUMBNAIL') {\r\n        //       volumeImages.push(image);\r\n        //     }\r\n        //   });\r\n        // }\r\n\r\n        metadata.forEach(m => {\r\n          // NOTE: depending on different data source, image.ImageType sometimes\r\n          //    is a string, not a string array.\r\n          m.ImageType = typeof m.ImageType === 'string' ? m.ImageType.split('\\\\') : m.ImageType;\r\n\r\n          const inst = cleanDenaturalizedDataset(\r\n            dcmjs.data.DicomMetaDictionary.denaturalizeDataset(m),\r\n            {\r\n              StudyInstanceUID: m.StudyInstanceUID,\r\n              SeriesInstanceUID: m.SeriesInstanceUID,\r\n              dataSourceConfig: dataSource.getConfig(),\r\n            }\r\n          );\r\n          if (!inst['00480105']) {\r\n            // Optical Path Sequence, no OpticalPathIdentifier?\r\n            // NOTE: this is actually a not-well formatted DICOM VL Whole Slide Microscopy Image.\r\n            inst['00480105'] = {\r\n              vr: 'SQ',\r\n              Value: [\r\n                {\r\n                  '00480106': {\r\n                    vr: 'SH',\r\n                    Value: ['1'],\r\n                  },\r\n                },\r\n              ],\r\n            };\r\n          }\r\n          const image = new metadataUtils.VLWholeSlideMicroscopyImage({\r\n            metadata: inst,\r\n          });\r\n\r\n          const imageFlavor = image.ImageType[2];\r\n          if (imageFlavor === 'VOLUME' || imageFlavor === 'THUMBNAIL') {\r\n            volumeImages.push(image);\r\n          }\r\n        });\r\n\r\n        // format metadata for microscopy-viewer\r\n        const options = {\r\n          client,\r\n          metadata: volumeImages,\r\n          retrieveRendered: false,\r\n          controls: ['overview', 'position'],\r\n        };\r\n\r\n        const viewer = new microscopyViewer(options);\r\n\r\n        if (overlayElement && overlayElement.current && viewer.addViewportOverlay) {\r\n          viewer.addViewportOverlay({\r\n            element: overlayElement.current,\r\n            coordinates: [0, 0], // TODO: dicom-microscopy-viewer documentation says this can be false to be automatically, but it is not.\r\n            navigate: true,\r\n            className: 'OpenLayersOverlay',\r\n          });\r\n        }\r\n\r\n        viewer.render({ container });\r\n\r\n        const { StudyInstanceUID, SeriesInstanceUID } = displaySet;\r\n\r\n        const managedViewer = microscopyService.addViewer(\r\n          viewer,\r\n          viewportId,\r\n          container,\r\n          StudyInstanceUID,\r\n          SeriesInstanceUID\r\n        );\r\n\r\n        managedViewer.addContextMenuCallback((event: Event) => {\r\n          // TODO: refactor this after Bill's changes on ContextMenu feature get merged\r\n          // const roiAnnotationNearBy = this.getNearbyROI(event);\r\n        });\r\n\r\n        setViewer(viewer);\r\n        setManagedViewer(managedViewer);\r\n      };\r\n\r\n      microscopyService.clearAnnotations();\r\n\r\n      let smDisplaySet = displaySet;\r\n      if (displaySet.Modality === 'SR') {\r\n        // for SR displaySet, let's load the actual image displaySet\r\n        smDisplaySet = displaySet.getSourceDisplaySet();\r\n      }\r\n      console.log('Loading viewer metadata', smDisplaySet);\r\n\r\n      await loadViewer(smDisplaySet.others);\r\n\r\n      if (displaySet.Modality === 'SR') {\r\n        displaySet.load(smDisplaySet);\r\n      }\r\n    },\r\n    [dataSource, extensionManager, microscopyService, servicesManager, viewportId]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const displaySet = displaySets[0];\r\n    installOpenLayersRenderer(container.current, displaySet).then(() => {\r\n      setIsLoaded(true);\r\n    });\r\n\r\n    return () => {\r\n      if (viewer) {\r\n        microscopyService.removeViewer(viewer);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const displaySet = displaySets[0];\r\n\r\n    microscopyService.clearAnnotations();\r\n\r\n    // loading SR\r\n    if (displaySet.Modality === 'SR') {\r\n      const referencedDisplaySet = displaySet.getSourceDisplaySet();\r\n      displaySet.load(referencedDisplaySet);\r\n    }\r\n  }, [managedViewer, displaySets, microscopyService]);\r\n\r\n  const style = { width: '100%', height: '100%' };\r\n  const displaySet = displaySets[0];\r\n  const firstInstance = displaySet.firstInstance || displaySet.instance;\r\n  const LoadingIndicatorProgress = customizationService.getCustomization(\r\n    'ui.loadingIndicatorProgress'\r\n  );\r\n\r\n  return (\r\n    <div\r\n      className={'DicomMicroscopyViewer'}\r\n      style={style}\r\n      onClick={() => {\r\n        if (viewportId !== activeViewportId) {\r\n          setViewportActive(viewportId);\r\n        }\r\n      }}\r\n    >\r\n      <div style={{ ...style, display: 'none' }}>\r\n        <div style={{ ...style }} ref={overlayElement}>\r\n          <div style={{ position: 'relative', height: '100%', width: '100%' }}>\r\n            {displaySet && firstInstance.imageId && (\r\n              <ViewportOverlay\r\n                overlayData={overlayData}\r\n                displaySet={displaySet}\r\n                instance={displaySet.instance}\r\n                metadata={displaySet.metadata}\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        style={style}\r\n        ref={(ref: any) => {\r\n          container.current = ref;\r\n          resizeRef.current = ref;\r\n        }}\r\n      />\r\n      {isLoaded ? null : <LoadingIndicatorProgress className={'h-full w-full bg-black'} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DicomMicroscopyViewport;\r\n","import React from 'react';\r\nimport classnames from 'classnames';\r\n\r\nimport listComponentGenerator from './listComponentGenerator';\r\nimport './ViewportOverlay.css';\r\nimport { formatDICOMDate, formatDICOMTime, formatNumberPrecision } from './utils';\r\nimport { utils } from '@ohif/core';\r\n\r\nconst { formatPN } = utils;\r\n\r\ninterface OverlayItem {\r\n  id: string;\r\n  title: string;\r\n  value?: (props: any) => string;\r\n  condition?: (props: any) => boolean;\r\n  contents?: (props: any) => { className: string; value: any };\r\n  generator?: (props: any) => any;\r\n}\r\n\r\n/**\r\n *\r\n * @param {*} config is a configuration object that defines four lists of elements,\r\n * one topLeft, topRight, bottomLeft, bottomRight contents.\r\n * @param {*} extensionManager is used to load the image data.\r\n * @returns\r\n */\r\nexport const generateFromConfig = ({ config, overlayData, ...props }) => {\r\n  const {\r\n    topLeft = [],\r\n    topRight = [],\r\n    bottomLeft = [],\r\n    bottomRight = [],\r\n  }: {\r\n    topLeft?: OverlayItem[];\r\n    topRight?: OverlayItem[];\r\n    bottomLeft?: OverlayItem[];\r\n    bottomRight?: OverlayItem[];\r\n  } = overlayData ?? {};\r\n  const topLeftClass = 'top-viewport left-viewport text-primary-light';\r\n  const topRightClass = 'top-viewport right-viewport-scrollbar text-primary-light';\r\n  const bottomRightClass = 'bottom-viewport right-viewport-scrollbar text-primary-light';\r\n  const bottomLeftClass = 'bottom-viewport left-viewport text-primary-light';\r\n  const overlay = 'absolute pointer-events-none microscopy-viewport-overlay';\r\n\r\n  return (\r\n    <>\r\n      {topLeft && topLeft.length > 0 && (\r\n        <div data-cy={'viewport-overlay-top-left'} className={classnames(overlay, topLeftClass)}>\r\n          {listComponentGenerator({ ...props, list: topLeft, itemGenerator })}\r\n        </div>\r\n      )}\r\n      {topRight && topRight.length > 0 && (\r\n        <div data-cy={'viewport-overlay-top-right'} className={classnames(overlay, topRightClass)}>\r\n          {listComponentGenerator({\r\n            ...props,\r\n            list: topRight,\r\n            itemGenerator,\r\n          })}\r\n        </div>\r\n      )}\r\n      {bottomRight && bottomRight.length > 0 && (\r\n        <div\r\n          data-cy={'viewport-overlay-bottom-right'}\r\n          className={classnames(overlay, bottomRightClass)}\r\n        >\r\n          {listComponentGenerator({\r\n            ...props,\r\n            list: bottomRight,\r\n            itemGenerator,\r\n          })}\r\n        </div>\r\n      )}\r\n      {bottomLeft && bottomLeft.length > 0 && (\r\n        <div\r\n          data-cy={'viewport-overlay-bottom-left'}\r\n          className={classnames(overlay, bottomLeftClass)}\r\n        >\r\n          {listComponentGenerator({\r\n            ...props,\r\n            list: bottomLeft,\r\n            itemGenerator,\r\n          })}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst itemGenerator = (props: any) => {\r\n  const { item } = props;\r\n  const { title, value: valueFunc, condition, contents } = item;\r\n  props.image = { ...props.image, ...props.metadata };\r\n  props.formatDate = formatDICOMDate;\r\n  props.formatTime = formatDICOMTime;\r\n  props.formatPN = formatPN;\r\n  props.formatNumberPrecision = formatNumberPrecision;\r\n  if (condition && !condition(props)) {\r\n    return null;\r\n  }\r\n  if (!contents && !valueFunc) {\r\n    return null;\r\n  }\r\n  const value = valueFunc && valueFunc(props);\r\n  const contentsValue = (contents && contents(props)) || [\r\n    { className: 'mr-1', value: title },\r\n    { classname: 'mr-1 font-light', value },\r\n  ];\r\n\r\n  return (\r\n    <div key={item.id} className=\"flex flex-row\">\r\n      {contentsValue.map((content, idx) => (\r\n        <span key={idx} className={content.className}>\r\n          {content.value}\r\n        </span>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default generateFromConfig;\r\n","const listComponentGenerator = props => {\r\n  const { list, itemGenerator } = props;\r\n  if (!list) {\r\n    return;\r\n  }\r\n  return list.map(item => {\r\n    if (!item) {\r\n      return;\r\n    }\r\n    const generator = item.generator || itemGenerator;\r\n    if (!generator) {\r\n      throw new Error(`No generator for ${item}`);\r\n    }\r\n    return generator({ ...props, item });\r\n  });\r\n};\r\n\r\nexport default listComponentGenerator;\r\n","import moment from 'moment';\r\nimport * as cornerstone from '@cornerstonejs/core';\r\n\r\n/**\r\n * Checks if value is valid.\r\n *\r\n * @param {number} value\r\n * @returns {boolean} is valid.\r\n */\r\nexport function isValidNumber(value) {\r\n  return typeof value === 'number' && !isNaN(value);\r\n}\r\n\r\n/**\r\n * Formats number precision.\r\n *\r\n * @param {number} number\r\n * @param {number} precision\r\n * @returns {number} formatted number.\r\n */\r\nexport function formatNumberPrecision(number, precision) {\r\n  if (number !== null) {\r\n    return parseFloat(number).toFixed(precision);\r\n  }\r\n}\r\n\r\n/**\r\n * Formats DICOM date.\r\n *\r\n * @param {string} date\r\n * @param {string} strFormat\r\n * @returns {string} formatted date.\r\n */\r\nexport function formatDICOMDate(date, strFormat = 'MMM D, YYYY') {\r\n  return moment(date, 'YYYYMMDD').format(strFormat);\r\n}\r\n\r\n/**\r\n *    DICOM Time is stored as HHmmss.SSS, where:\r\n *      HH 24 hour time:\r\n *        m mm        0..59   Minutes\r\n *        s ss        0..59   Seconds\r\n *        S SS SSS    0..999  Fractional seconds\r\n *\r\n *        Goal: '24:12:12'\r\n *\r\n * @param {*} time\r\n * @param {string} strFormat\r\n * @returns {string} formatted name.\r\n */\r\nexport function formatDICOMTime(time, strFormat = 'HH:mm:ss') {\r\n  return moment(time, 'HH:mm:ss').format(strFormat);\r\n}\r\n\r\n/**\r\n * Gets compression type\r\n *\r\n * @param {number} imageId\r\n * @returns {string} compression type.\r\n */\r\nexport function getCompression(imageId) {\r\n  const generalImageModule = cornerstone.metaData.get('generalImageModule', imageId) || {};\r\n  const { lossyImageCompression, lossyImageCompressionRatio, lossyImageCompressionMethod } =\r\n    generalImageModule;\r\n\r\n  if (lossyImageCompression === '01' && lossyImageCompressionRatio !== '') {\r\n    const compressionMethod = lossyImageCompressionMethod || 'Lossy: ';\r\n    const compressionRatio = formatNumberPrecision(lossyImageCompressionRatio, 2);\r\n    return compressionMethod + compressionRatio + ' : 1';\r\n  }\r\n\r\n  return 'Lossless / Uncompressed';\r\n}\r\n","import { errorHandler, DicomMetadataStore } from '@ohif/core';\r\nimport { StaticWadoClient } from '@ohif/extension-default';\r\n\r\n/**\r\n * create a DICOMwebClient object to be used by Dicom Microscopy Viewer\r\n *\r\n * Referenced the code from `/extensions/default/src/DicomWebDataSource/index.js`\r\n *\r\n * @param param0\r\n * @returns\r\n */\r\nexport default function getDicomWebClient({ extensionManager, servicesManager }: withAppTypes) {\r\n  const dataSourceConfig = window.config.dataSources.find(\r\n    ds => ds.sourceName === extensionManager.activeDataSourceName\r\n  );\r\n  const { userAuthenticationService } = servicesManager.services;\r\n\r\n  const { wadoRoot, staticWado, singlepart } = dataSourceConfig.configuration;\r\n\r\n  const wadoConfig = {\r\n    url: wadoRoot || '/dicomlocal',\r\n    staticWado,\r\n    singlepart,\r\n    headers: userAuthenticationService.getAuthorizationHeader(),\r\n    errorInterceptor: errorHandler.getHTTPErrorHandler(),\r\n  };\r\n\r\n  const client = new StaticWadoClient(wadoConfig);\r\n  client.wadoURL = wadoConfig.url;\r\n\r\n  if (extensionManager.activeDataSourceName === 'dicomlocal') {\r\n    /**\r\n     * For local data source, override the retrieveInstanceFrames() method of the\r\n     * dicomweb-client to retrieve image data from memory cached metadata.\r\n     * Other methods of the client doesn't matter, as we are feeding the DMV\r\n     * with the series metadata already.\r\n     *\r\n     * @param {Object} options\r\n     * @param {String} options.studyInstanceUID - Study Instance UID\r\n     * @param {String} options.seriesInstanceUID - Series Instance UID\r\n     * @param {String} options.sopInstanceUID - SOP Instance UID\r\n     * @param {String} options.frameNumbers - One-based indices of Frame Items\r\n     * @param {Object} [options.queryParams] - HTTP query parameters\r\n     * @returns {ArrayBuffer[]} Rendered Frame Items as byte arrays\r\n     */\r\n    //\r\n    client.retrieveInstanceFrames = async options => {\r\n      if (!('studyInstanceUID' in options)) {\r\n        throw new Error('Study Instance UID is required for retrieval of instance frames');\r\n      }\r\n      if (!('seriesInstanceUID' in options)) {\r\n        throw new Error('Series Instance UID is required for retrieval of instance frames');\r\n      }\r\n      if (!('sopInstanceUID' in options)) {\r\n        throw new Error('SOP Instance UID is required for retrieval of instance frames');\r\n      }\r\n      if (!('frameNumbers' in options)) {\r\n        throw new Error('frame numbers are required for retrieval of instance frames');\r\n      }\r\n      console.log(\r\n        `retrieve frames ${options.frameNumbers.toString()} of instance ${options.sopInstanceUID}`\r\n      );\r\n\r\n      const instance = DicomMetadataStore.getInstance(\r\n        options.studyInstanceUID,\r\n        options.seriesInstanceUID,\r\n        options.sopInstanceUID\r\n      );\r\n\r\n      const frameNumbers = Array.isArray(options.frameNumbers)\r\n        ? options.frameNumbers\r\n        : options.frameNumbers.split(',');\r\n\r\n      return frameNumbers.map(fr =>\r\n        Array.isArray(instance.PixelData) ? instance.PixelData[+fr - 1] : instance.PixelData\r\n      );\r\n    };\r\n  }\r\n\r\n  return client;\r\n}\r\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.DicomMicroscopyViewer {\r\n  --ol-partial-background-color: rgba(127, 127, 127, 0.7);\r\n  --ol-foreground-color: #000000;\r\n  --ol-subtle-foreground-color: #000;\r\n  --ol-subtle-background-color: rgba(78, 78, 78, 0.5);\r\n  \r\n  /* Prevent text selection on the entire viewer to avoid interference with annotations */\r\n  -webkit-user-select: none;\r\n  -moz-user-select: none;\r\n   -ms-user-select: none;\r\n       user-select: none;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-box {\r\n  -webkit-box-sizing: border-box;\r\n          box-sizing: border-box;\r\n  border-radius: 2px;\r\n  border: 1.5px solid var(--ol-background-color);\r\n  background-color: var(--ol-partial-background-color);\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-mouse-position {\r\n  top: 8px;\r\n  right: 8px;\r\n  position: absolute;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-scale-line {\r\n  background: var(--ol-partial-background-color);\r\n  border-radius: 4px;\r\n  bottom: 8px;\r\n  left: 8px;\r\n  padding: 2px;\r\n  position: absolute;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-scale-line-inner {\r\n  border: 1px solid var(--ol-subtle-foreground-color);\r\n  border-top: none;\r\n  color: var(--ol-foreground-color);\r\n  font-size: 10px;\r\n  text-align: center;\r\n  margin: 1px;\r\n  will-change: contents, width;\r\n  -webkit-transition: all 0.25s;\r\n  transition: all 0.25s;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-scale-bar {\r\n  position: absolute;\r\n  bottom: 8px;\r\n  left: 8px;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-scale-bar-inner {\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-scale-step-marker {\r\n  width: 1px;\r\n  height: 15px;\r\n  background-color: var(--ol-foreground-color);\r\n  float: right;\r\n  z-index: 10;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-scale-step-text {\r\n  position: absolute;\r\n  bottom: -5px;\r\n  font-size: 10px;\r\n  z-index: 11;\r\n  color: var(--ol-foreground-color);\r\n  text-shadow:\r\n    -1.5px 0 var(--ol-partial-background-color),\r\n    0 1.5px var(--ol-partial-background-color),\r\n    1.5px 0 var(--ol-partial-background-color),\r\n    0 -1.5px var(--ol-partial-background-color);\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-scale-text {\r\n  position: absolute;\r\n  font-size: 12px;\r\n  text-align: center;\r\n  bottom: 25px;\r\n  color: var(--ol-foreground-color);\r\n  text-shadow:\r\n    -1.5px 0 var(--ol-partial-background-color),\r\n    0 1.5px var(--ol-partial-background-color),\r\n    1.5px 0 var(--ol-partial-background-color),\r\n    0 -1.5px var(--ol-partial-background-color);\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-scale-singlebar {\r\n  position: relative;\r\n  height: 10px;\r\n  z-index: 9;\r\n  -webkit-box-sizing: border-box;\r\n          box-sizing: border-box;\r\n  border: 1px solid var(--ol-foreground-color);\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-scale-singlebar-even {\r\n  background-color: var(--ol-subtle-foreground-color);\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-scale-singlebar-odd {\r\n  background-color: var(--ol-background-color);\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-unsupported {\r\n  display: none;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-viewport,\r\n.DicomMicroscopyViewer .ol-unselectable {\r\n  -webkit-touch-callout: none;\r\n  -webkit-user-select: none;\r\n  -moz-user-select: none;\r\n   -ms-user-select: none;\r\n       user-select: none;\r\n  -webkit-tap-highlight-color: transparent;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-viewport canvas {\r\n  all: unset;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-selectable {\r\n  -webkit-touch-callout: default;\r\n  -webkit-user-select: text;\r\n  -moz-user-select: text;\r\n   -ms-user-select: text;\r\n       user-select: text;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-grabbing {\r\n  cursor: -webkit-grabbing;\r\n  cursor: grabbing;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-grab {\r\n  cursor: move;\r\n  cursor: -webkit-grab;\r\n  cursor: grab;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-control {\r\n  position: absolute;\r\n  background-color: var(--ol-subtle-background-color);\r\n  border-radius: 4px;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-zoom {\r\n  top: 0.5em;\r\n  left: 0.5em;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-rotate {\r\n  top: 0.5em;\r\n  right: 0.5em;\r\n  -webkit-transition:\r\n    opacity 0.25s linear,\r\n    visibility 0s linear;\r\n  transition:\r\n    opacity 0.25s linear,\r\n    visibility 0s linear;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-rotate.ol-hidden {\r\n  opacity: 0;\r\n  visibility: hidden;\r\n  -webkit-transition:\r\n    opacity 0.25s linear,\r\n    visibility 0s linear 0.25s;\r\n  transition:\r\n    opacity 0.25s linear,\r\n    visibility 0s linear 0.25s;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-zoom-extent {\r\n  top: 4.643em;\r\n  left: 0.5em;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-full-screen {\r\n  right: 0.5em;\r\n  top: 0.5em;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-control button {\r\n  display: block;\r\n  margin: 1px;\r\n  padding: 0;\r\n  color: var(--ol-subtle-foreground-color);\r\n  font-weight: bold;\r\n  text-decoration: none;\r\n  font-size: inherit;\r\n  text-align: center;\r\n  height: 1.375em;\r\n  width: 1.375em;\r\n  line-height: 0.4em;\r\n  background-color: var(--ol-background-color);\r\n  border: none;\r\n  border-radius: 2px;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-control button::-moz-focus-inner {\r\n  border: none;\r\n  padding: 0;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-zoom-extent button {\r\n  line-height: 1.4em;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-compass {\r\n  display: block;\r\n  font-weight: normal;\r\n  will-change: transform;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-touch .ol-control button {\r\n  font-size: 1.5em;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-touch .ol-zoom-extent {\r\n  top: 5.5em;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-control button:hover,\r\n.DicomMicroscopyViewer .ol-control button:focus {\r\n  text-decoration: none;\r\n  outline: 1px solid var(--ol-subtle-foreground-color);\r\n  color: var(--ol-foreground-color);\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-zoom .ol-zoom-in {\r\n  border-radius: 2px 2px 0 0;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-zoom .ol-zoom-out {\r\n  border-radius: 0 0 2px 2px;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-attribution {\r\n  text-align: right;\r\n  bottom: 0.5em;\r\n  right: 0.5em;\r\n  max-width: calc(100% - 1.3em);\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  -webkit-box-orient: horizontal;\r\n  -webkit-box-direction: reverse;\r\n      -ms-flex-flow: row-reverse;\r\n          flex-flow: row-reverse;\r\n  -webkit-box-align: center;\r\n      -ms-flex-align: center;\r\n          align-items: center;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-attribution a {\r\n  color: var(--ol-subtle-foreground-color);\r\n  text-decoration: none;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-attribution ul {\r\n  margin: 0;\r\n  padding: 1px 0.5em;\r\n  color: var(--ol-foreground-color);\r\n  text-shadow: 0 0 2px var(--ol-background-color);\r\n  font-size: 12px;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-attribution li {\r\n  display: inline;\r\n  list-style: none;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-attribution li:not(:last-child):after {\r\n  content: ' ';\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-attribution img {\r\n  max-height: 2em;\r\n  max-width: inherit;\r\n  vertical-align: middle;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-attribution button {\r\n  -ms-flex-negative: 0;\r\n      flex-shrink: 0;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-attribution.ol-collapsed ul {\r\n  display: none;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-attribution:not(.ol-collapsed) {\r\n  background: var(--ol-partial-background-color);\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-attribution.ol-uncollapsible {\r\n  bottom: 0;\r\n  right: 0;\r\n  border-radius: 4px 0 0;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-attribution.ol-uncollapsible img {\r\n  margin-top: -0.2em;\r\n  max-height: 1.6em;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-attribution.ol-uncollapsible button {\r\n  display: none;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-zoomslider {\r\n  top: 4.5em;\r\n  left: 0.5em;\r\n  height: 200px;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-zoomslider button {\r\n  position: relative;\r\n  height: 10px;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-touch .ol-zoomslider {\r\n  top: 5.5em;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-overviewmap {\r\n  left: 0.5em;\r\n  bottom: 0.5em;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-overviewmap.ol-uncollapsible {\r\n  bottom: 0;\r\n  left: 0;\r\n  border-radius: 0 4px 0 0;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-overviewmap .ol-overviewmap-map,\r\n.DicomMicroscopyViewer .ol-overviewmap button {\r\n  display: block;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-overviewmap .ol-overviewmap-map {\r\n  border: 1px solid var(--ol-subtle-foreground-color);\r\n  height: 150px;\r\n  width: 150px;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-overviewmap:not(.ol-collapsed) button {\r\n  bottom: 0;\r\n  left: 0;\r\n  position: absolute;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-overviewmap.ol-collapsed .ol-overviewmap-map,\r\n.DicomMicroscopyViewer .ol-overviewmap.ol-uncollapsible button {\r\n  display: none;\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-overviewmap:not(.ol-collapsed) {\r\n  background: var(--ol-subtle-background-color);\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-overviewmap-box {\r\n  border: 0.5px dotted var(--ol-subtle-foreground-color);\r\n}\r\n\r\n.DicomMicroscopyViewer .ol-overviewmap .ol-overviewmap-box:hover {\r\n  cursor: move;\r\n}\r\n\r\n@layout-header-background: #007ea3;\r\n\r\n@primary-color: #007ea3;\r\n\r\n@processing-color: #8cb8c6;\r\n\r\n@success-color: #3f9c35;\r\n\r\n@warning-color: #eeaf30;\r\n\r\n@error-color: #96172e;\r\n\r\n@font-size-base: 14px;\r\n\r\n.DicomMicroscopyViewer .ol-tooltip {\r\n  font-size: 16px !important;\r\n}\r\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./../../../extensions/dicom-microscopy/src/DicomMicroscopyViewport.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\".DicomMicroscopyViewer {\\r\\n  --ol-partial-background-color: rgba(127, 127, 127, 0.7);\\r\\n  --ol-foreground-color: #000000;\\r\\n  --ol-subtle-foreground-color: #000;\\r\\n  --ol-subtle-background-color: rgba(78, 78, 78, 0.5);\\r\\n  \\r\\n  /* Prevent text selection on the entire viewer to avoid interference with annotations */\\r\\n  -webkit-user-select: none;\\r\\n  -moz-user-select: none;\\r\\n  -ms-user-select: none;\\r\\n  user-select: none;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-box {\\r\\n  box-sizing: border-box;\\r\\n  border-radius: 2px;\\r\\n  border: 1.5px solid var(--ol-background-color);\\r\\n  background-color: var(--ol-partial-background-color);\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-mouse-position {\\r\\n  top: 8px;\\r\\n  right: 8px;\\r\\n  position: absolute;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-scale-line {\\r\\n  background: var(--ol-partial-background-color);\\r\\n  border-radius: 4px;\\r\\n  bottom: 8px;\\r\\n  left: 8px;\\r\\n  padding: 2px;\\r\\n  position: absolute;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-scale-line-inner {\\r\\n  border: 1px solid var(--ol-subtle-foreground-color);\\r\\n  border-top: none;\\r\\n  color: var(--ol-foreground-color);\\r\\n  font-size: 10px;\\r\\n  text-align: center;\\r\\n  margin: 1px;\\r\\n  will-change: contents, width;\\r\\n  transition: all 0.25s;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-scale-bar {\\r\\n  position: absolute;\\r\\n  bottom: 8px;\\r\\n  left: 8px;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-scale-bar-inner {\\r\\n  display: flex;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-scale-step-marker {\\r\\n  width: 1px;\\r\\n  height: 15px;\\r\\n  background-color: var(--ol-foreground-color);\\r\\n  float: right;\\r\\n  z-index: 10;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-scale-step-text {\\r\\n  position: absolute;\\r\\n  bottom: -5px;\\r\\n  font-size: 10px;\\r\\n  z-index: 11;\\r\\n  color: var(--ol-foreground-color);\\r\\n  text-shadow:\\r\\n    -1.5px 0 var(--ol-partial-background-color),\\r\\n    0 1.5px var(--ol-partial-background-color),\\r\\n    1.5px 0 var(--ol-partial-background-color),\\r\\n    0 -1.5px var(--ol-partial-background-color);\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-scale-text {\\r\\n  position: absolute;\\r\\n  font-size: 12px;\\r\\n  text-align: center;\\r\\n  bottom: 25px;\\r\\n  color: var(--ol-foreground-color);\\r\\n  text-shadow:\\r\\n    -1.5px 0 var(--ol-partial-background-color),\\r\\n    0 1.5px var(--ol-partial-background-color),\\r\\n    1.5px 0 var(--ol-partial-background-color),\\r\\n    0 -1.5px var(--ol-partial-background-color);\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-scale-singlebar {\\r\\n  position: relative;\\r\\n  height: 10px;\\r\\n  z-index: 9;\\r\\n  box-sizing: border-box;\\r\\n  border: 1px solid var(--ol-foreground-color);\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-scale-singlebar-even {\\r\\n  background-color: var(--ol-subtle-foreground-color);\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-scale-singlebar-odd {\\r\\n  background-color: var(--ol-background-color);\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-unsupported {\\r\\n  display: none;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-viewport,\\r\\n.DicomMicroscopyViewer .ol-unselectable {\\r\\n  -webkit-touch-callout: none;\\r\\n  -webkit-user-select: none;\\r\\n  -moz-user-select: none;\\r\\n  user-select: none;\\r\\n  -webkit-tap-highlight-color: transparent;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-viewport canvas {\\r\\n  all: unset;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-selectable {\\r\\n  -webkit-touch-callout: default;\\r\\n  -webkit-user-select: text;\\r\\n  -moz-user-select: text;\\r\\n  user-select: text;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-grabbing {\\r\\n  cursor: -webkit-grabbing;\\r\\n  cursor: -moz-grabbing;\\r\\n  cursor: grabbing;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-grab {\\r\\n  cursor: move;\\r\\n  cursor: -webkit-grab;\\r\\n  cursor: -moz-grab;\\r\\n  cursor: grab;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-control {\\r\\n  position: absolute;\\r\\n  background-color: var(--ol-subtle-background-color);\\r\\n  border-radius: 4px;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-zoom {\\r\\n  top: 0.5em;\\r\\n  left: 0.5em;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-rotate {\\r\\n  top: 0.5em;\\r\\n  right: 0.5em;\\r\\n  transition:\\r\\n    opacity 0.25s linear,\\r\\n    visibility 0s linear;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-rotate.ol-hidden {\\r\\n  opacity: 0;\\r\\n  visibility: hidden;\\r\\n  transition:\\r\\n    opacity 0.25s linear,\\r\\n    visibility 0s linear 0.25s;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-zoom-extent {\\r\\n  top: 4.643em;\\r\\n  left: 0.5em;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-full-screen {\\r\\n  right: 0.5em;\\r\\n  top: 0.5em;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-control button {\\r\\n  display: block;\\r\\n  margin: 1px;\\r\\n  padding: 0;\\r\\n  color: var(--ol-subtle-foreground-color);\\r\\n  font-weight: bold;\\r\\n  text-decoration: none;\\r\\n  font-size: inherit;\\r\\n  text-align: center;\\r\\n  height: 1.375em;\\r\\n  width: 1.375em;\\r\\n  line-height: 0.4em;\\r\\n  background-color: var(--ol-background-color);\\r\\n  border: none;\\r\\n  border-radius: 2px;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-control button::-moz-focus-inner {\\r\\n  border: none;\\r\\n  padding: 0;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-zoom-extent button {\\r\\n  line-height: 1.4em;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-compass {\\r\\n  display: block;\\r\\n  font-weight: normal;\\r\\n  will-change: transform;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-touch .ol-control button {\\r\\n  font-size: 1.5em;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-touch .ol-zoom-extent {\\r\\n  top: 5.5em;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-control button:hover,\\r\\n.DicomMicroscopyViewer .ol-control button:focus {\\r\\n  text-decoration: none;\\r\\n  outline: 1px solid var(--ol-subtle-foreground-color);\\r\\n  color: var(--ol-foreground-color);\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-zoom .ol-zoom-in {\\r\\n  border-radius: 2px 2px 0 0;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-zoom .ol-zoom-out {\\r\\n  border-radius: 0 0 2px 2px;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-attribution {\\r\\n  text-align: right;\\r\\n  bottom: 0.5em;\\r\\n  right: 0.5em;\\r\\n  max-width: calc(100% - 1.3em);\\r\\n  display: flex;\\r\\n  flex-flow: row-reverse;\\r\\n  align-items: center;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-attribution a {\\r\\n  color: var(--ol-subtle-foreground-color);\\r\\n  text-decoration: none;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-attribution ul {\\r\\n  margin: 0;\\r\\n  padding: 1px 0.5em;\\r\\n  color: var(--ol-foreground-color);\\r\\n  text-shadow: 0 0 2px var(--ol-background-color);\\r\\n  font-size: 12px;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-attribution li {\\r\\n  display: inline;\\r\\n  list-style: none;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-attribution li:not(:last-child):after {\\r\\n  content: ' ';\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-attribution img {\\r\\n  max-height: 2em;\\r\\n  max-width: inherit;\\r\\n  vertical-align: middle;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-attribution button {\\r\\n  flex-shrink: 0;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-attribution.ol-collapsed ul {\\r\\n  display: none;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-attribution:not(.ol-collapsed) {\\r\\n  background: var(--ol-partial-background-color);\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-attribution.ol-uncollapsible {\\r\\n  bottom: 0;\\r\\n  right: 0;\\r\\n  border-radius: 4px 0 0;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-attribution.ol-uncollapsible img {\\r\\n  margin-top: -0.2em;\\r\\n  max-height: 1.6em;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-attribution.ol-uncollapsible button {\\r\\n  display: none;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-zoomslider {\\r\\n  top: 4.5em;\\r\\n  left: 0.5em;\\r\\n  height: 200px;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-zoomslider button {\\r\\n  position: relative;\\r\\n  height: 10px;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-touch .ol-zoomslider {\\r\\n  top: 5.5em;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-overviewmap {\\r\\n  left: 0.5em;\\r\\n  bottom: 0.5em;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-overviewmap.ol-uncollapsible {\\r\\n  bottom: 0;\\r\\n  left: 0;\\r\\n  border-radius: 0 4px 0 0;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-overviewmap .ol-overviewmap-map,\\r\\n.DicomMicroscopyViewer .ol-overviewmap button {\\r\\n  display: block;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-overviewmap .ol-overviewmap-map {\\r\\n  border: 1px solid var(--ol-subtle-foreground-color);\\r\\n  height: 150px;\\r\\n  width: 150px;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-overviewmap:not(.ol-collapsed) button {\\r\\n  bottom: 0;\\r\\n  left: 0;\\r\\n  position: absolute;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-overviewmap.ol-collapsed .ol-overviewmap-map,\\r\\n.DicomMicroscopyViewer .ol-overviewmap.ol-uncollapsible button {\\r\\n  display: none;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-overviewmap:not(.ol-collapsed) {\\r\\n  background: var(--ol-subtle-background-color);\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-overviewmap-box {\\r\\n  border: 0.5px dotted var(--ol-subtle-foreground-color);\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .ol-overviewmap .ol-overviewmap-box:hover {\\r\\n  cursor: move;\\r\\n}\\r\\n\\r\\n@layout-header-background: #007ea3;\\r\\n@primary-color: #007ea3;\\r\\n@processing-color: #8cb8c6;\\r\\n@success-color: #3f9c35;\\r\\n@warning-color: #eeaf30;\\r\\n@error-color: #96172e;\\r\\n@font-size-base: 14px;\\r\\n\\r\\n.DicomMicroscopyViewer .ol-tooltip {\\r\\n  font-size: 16px !important;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.DicomMicroscopyViewer .OpenLayersOverlay {\r\n  display: block !important;\r\n  pointer-events: none !important;\r\n}\r\n\r\n.DicomMicroscopyViewer .OpenLayersOverlay {\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\n.DicomMicroscopyViewer .text-primary-light {\r\n  font-size: 14px;\r\n  color: yellow;\r\n  font-weight: normal;\r\n}\r\n\r\n.DicomMicroscopyViewer .text-primary-light span {\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  max-width: 300px;\r\n  /* text-shadow: 0px 1px 1px rgba(225, 225, 225, 0.6),\r\n              0px 1px 1px rgba(225, 225, 225, 0.6),\r\n              1px 1px 3px rgba(225, 225, 225, 0.9),\r\n              1px 1px 3px rgba(225, 225, 225, 0.9),\r\n              1px 1px 3px rgba(225, 225, 225, 0.9),\r\n              1px 1px 3px rgba(225, 225, 225, 0.9); */\r\n}\r\n\r\n.DicomMicroscopyViewer .absolute {\r\n  position: absolute;\r\n}\r\n\r\n.DicomMicroscopyViewer .flex {\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n}\r\n\r\n.DicomMicroscopyViewer .flex-row {\r\n  -webkit-box-orient: horizontal;\r\n  -webkit-box-direction: normal;\r\n      -ms-flex-direction: row;\r\n          flex-direction: row;\r\n}\r\n\r\n.DicomMicroscopyViewer .flex-col {\r\n  -webkit-box-orient: vertical;\r\n  -webkit-box-direction: normal;\r\n      -ms-flex-direction: column;\r\n          flex-direction: column;\r\n}\r\n\r\n.DicomMicroscopyViewer .pointer-events-none {\r\n  pointer-events: none;\r\n}\r\n\r\n.DicomMicroscopyViewer .left-viewport-scrollbar {\r\n  left: 0.5rem;\r\n}\r\n\r\n.DicomMicroscopyViewer .right-viewport-scrollbar {\r\n  right: 1.3rem;\r\n}\r\n\r\n.DicomMicroscopyViewer .top-viewport {\r\n  top: 0.5rem;\r\n}\r\n\r\n.DicomMicroscopyViewer .bottom-viewport {\r\n  bottom: 0.5rem;\r\n}\r\n\r\n.DicomMicroscopyViewer .bottom-viewport.left-viewport {\r\n  bottom: 0.5rem;\r\n  left: calc(0.5rem + 250px);\r\n}\r\n\r\n.DicomMicroscopyViewer .right-viewport-scrollbar .flex {\r\n  -webkit-box-pack: end;\r\n      -ms-flex-pack: end;\r\n          justify-content: end;\r\n}\r\n\r\n.DicomMicroscopyViewer .microscopy-viewport-overlay {\r\n  padding: 0.5rem 1rem;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  max-width: 40%;\r\n}\r\n\r\n.DicomMicroscopyViewer .microscopy-viewport-overlay .flex {\r\n  max-width: 100%;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n\r\n.DicomMicroscopyViewer .top-viewport .flex span:not(.font-light) {\r\n  -ms-flex-negative: 0;\r\n      flex-shrink: 0;\r\n}\r\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./../../../extensions/dicom-microscopy/src/components/ViewportOverlay/ViewportOverlay.css\"],\"names\":[],\"mappings\":\"AAAA;EAGE,yBAAyB;EACzB,+BAA+B;AACjC;;AALA;EACE,YAAY;EACZ,WAAW;AAGb;;AAEA;EACE,eAAe;EACf,aAAa;EACb,mBAAmB;AACrB;;AAEA;EACE,gBAAgB;EAChB,mBAAmB;EACnB,uBAAuB;EACvB,gBAAgB;EAChB;;;;;qDAKmD;AACrD;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,oBAAa;EAAb,oBAAa;EAAb,aAAa;AACf;;AAEA;EACE,8BAAmB;EAAnB,6BAAmB;MAAnB,uBAAmB;UAAnB,mBAAmB;AACrB;;AAEA;EACE,4BAAsB;EAAtB,6BAAsB;MAAtB,0BAAsB;UAAtB,sBAAsB;AACxB;;AAEA;EACE,oBAAoB;AACtB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;EACd,0BAA0B;AAC5B;;AAEA;EACE,qBAAoB;MAApB,kBAAoB;UAApB,oBAAoB;AACtB;;AAEA;EACE,oBAAoB;EACpB,8BAA8B;EAC9B,cAAc;AAChB;;AAEA;EACE,eAAe;EACf,gBAAgB;EAChB,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,oBAAc;MAAd,cAAc;AAChB\",\"sourcesContent\":[\".DicomMicroscopyViewer .OpenLayersOverlay {\\r\\n  height: 100%;\\r\\n  width: 100%;\\r\\n  display: block !important;\\r\\n  pointer-events: none !important;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .text-primary-light {\\r\\n  font-size: 14px;\\r\\n  color: yellow;\\r\\n  font-weight: normal;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .text-primary-light span {\\r\\n  overflow: hidden;\\r\\n  white-space: nowrap;\\r\\n  text-overflow: ellipsis;\\r\\n  max-width: 300px;\\r\\n  /* text-shadow: 0px 1px 1px rgba(225, 225, 225, 0.6),\\r\\n              0px 1px 1px rgba(225, 225, 225, 0.6),\\r\\n              1px 1px 3px rgba(225, 225, 225, 0.9),\\r\\n              1px 1px 3px rgba(225, 225, 225, 0.9),\\r\\n              1px 1px 3px rgba(225, 225, 225, 0.9),\\r\\n              1px 1px 3px rgba(225, 225, 225, 0.9); */\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .absolute {\\r\\n  position: absolute;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .flex {\\r\\n  display: flex;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .flex-row {\\r\\n  flex-direction: row;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .flex-col {\\r\\n  flex-direction: column;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .pointer-events-none {\\r\\n  pointer-events: none;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .left-viewport-scrollbar {\\r\\n  left: 0.5rem;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .right-viewport-scrollbar {\\r\\n  right: 1.3rem;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .top-viewport {\\r\\n  top: 0.5rem;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .bottom-viewport {\\r\\n  bottom: 0.5rem;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .bottom-viewport.left-viewport {\\r\\n  bottom: 0.5rem;\\r\\n  left: calc(0.5rem + 250px);\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .right-viewport-scrollbar .flex {\\r\\n  justify-content: end;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .microscopy-viewport-overlay {\\r\\n  padding: 0.5rem 1rem;\\r\\n  background: rgba(0, 0, 0, 0.5);\\r\\n  max-width: 40%;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .microscopy-viewport-overlay .flex {\\r\\n  max-width: 100%;\\r\\n  overflow: hidden;\\r\\n  text-overflow: ellipsis;\\r\\n  white-space: nowrap;\\r\\n}\\r\\n\\r\\n.DicomMicroscopyViewer .top-viewport .flex span:not(.font-light) {\\r\\n  flex-shrink: 0;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[5].use[2]!./DicomMicroscopyViewport.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[5].use[2]!./DicomMicroscopyViewport.css\",\n      function () {\n        content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[5].use[2]!./DicomMicroscopyViewport.css\");\n\n              content = content.__esModule ? content.default : content;\n\n              if (typeof content === 'string') {\n                content = [[module.id, content, '']];\n              }\n\n              if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!../../../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[5].use[2]!./ViewportOverlay.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!../../../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[5].use[2]!./ViewportOverlay.css\",\n      function () {\n        content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!../../../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[5].use[2]!./ViewportOverlay.css\");\n\n              content = content.__esModule ? content.default : content;\n\n              if (typeof content === 'string') {\n                content = [[module.id, content, '']];\n              }\n\n              if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nmodule.exports = content.locals || {};"],"names":[],"sourceRoot":""}